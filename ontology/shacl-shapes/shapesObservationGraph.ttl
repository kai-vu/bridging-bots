@prefix sh:     <http://www.w3.org/ns/shacl#> .
@prefix obot:    <https://w3id.org/onto-bot#> .
@prefix xsd:    <http://www.w3.org/2001/XMLSchema#> .
@prefix dul:    <http://www.ontologydesignpatterns.org/ont/dul/DUL.owl#> .
@prefix geo:    <http://www.opengis.net/ont/geosparql#> .
@prefix soma:   <http://www.ease-crc.org/ont/SOMA.owl#> .
@prefix owl:    <http://www.w3.org/2002/07/owl#> .

# ENVIRONMENT SHAPE
obot:EnvironmentShape a sh:NodeShape ;
    sh:targetClass obot:Environment ;
    sh:property [
        sh:path dul:hasComponent ;
        sh:in (obot:Component obot:Appliance
                obot:Furniture obot:Object) ;
        sh:minCount 1 ;
    ] .

# COMPONENT SHAPE
obot:ComponentShape a sh:NodeShape ;
    sh:targetClass obot:Component ;
    sh:property [
        sh:path obot:hasAffordance ;
        sh:in (obot:Affordance soma:Closing soma:Opening 
                soma:Delivering soma:Holding soma:PickingUp
                soma:PuttingDown soma:Pulling soma:Pushing soma:Grasping) ;
        sh:minCount 1 ;
    ] ;
    sh:property [
        sh:path dul:hasLocation ;
        sh:nodeKind sh:BlankNodeOrIRI;
        sh:minCount 1 ;
    ] .

# LOCATION SHAPE
obot:LocationShape a sh:NodeShape ;
    sh:targetClass obot:Location ;
    sh:property [
        sh:path obot:onTopOf ;
        sh:class obot:Component ;
    ] ;
    sh:property [
        sh:path geo:sfContains ;
        sh:class obot:Component ;
    ] ;
    sh:property [
        sh:path geo:sfWithin ;
        sh:class obot:Component ;
    ] ;
    sh:property [
        sh:path geo:sfOverlaps ;
        sh:class obot:Component ;
    ] .

